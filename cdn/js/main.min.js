function change(a){var b=torgb(a);$("body").css("background","RGB("+b[0]+","+b[1]+","+b[2]+")");var c=detect(b[0],b[1],b[2]);$("body").removeClass(),$("body").addClass(c),a.match("^#")||(a="#"+a),$("#hex").val(a),$("#rgb").val("RGB("+b[0]+","+b[1]+","+b[2]+")")}function randColour(){var a=Math.floor(256*Math.random()),b=Math.floor(256*Math.random()),c=Math.floor(256*Math.random());return[a,b,c]}function detect(a,b,c){var e=Math.round((299*parseInt(a)+587*parseInt(b)+114*parseInt(c))/1e3);return e>125?"dark":"light"}function tohex(a,b,c){return a=a.toString(16),1==a.length&&(a="0"+a),b=b.toString(16),1==b.length&&(b="0"+b),c=c.toString(16),1==c.length&&(c="0"+c),"#"+a+b+c}function torgb(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return rgb=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}$(document).ready(function(){var a=randColour(),b=tohex(a[0],a[1],a[2]);change(b)}),$("button").click(function(){var a=randColour(),b=tohex(a[0],a[1],a[2]);change(b),$(this).addClass("a"),setTimeout(function(){$("button").removeClass("a")},400)}),$("#hex").on("change paste keyup",function(){var a=this.selectionStart,b=$(this).val();b.match("^#")||(b="#"+b),(4==b.length||7==b.length)&&change($(this).val()),this.selectionEnd=a}),$("#rgb").on("change paste keyup",function(){var a=this.selectionStart,b=$(this).val();b=b.replace("RGB(",""),b=b.replace(")","");var c=b.split(",");if(void 0==c[0]||""==c[0]||void 0==c[1]||""==c[1]||void 0==c[2]||""==c[2]);else{var d=tohex(parseInt(c[0]),parseInt(c[1]),parseInt(c[2]));change(d)}this.selectionEnd=a});
